let workIndex,work={},todoList=[];const newTodo=document.querySelector("#newTodo");function saveData(e){localStorage.setItem("myTodoList",JSON.stringify(e))}function loadData(){const e=localStorage.getItem("myTodoList");return null!==e?JSON.parse(e):[]}function render(){let e=document.querySelector(".todoList"),t=document.querySelector(".doneList"),n=document.querySelector(".leftCount"),o="",d="",i=0;document.querySelector("#newTodo").focus(),todoList=loadData(),0===todoList.length?document.querySelector(".mask").style.display="flex":document.querySelector(".mask").style.display="none",null!==todoList?(todoList.map((e=>{e.done?d+='<li>\n                    <input type="checkbox" checked name="checkBtn" class="checkBtn" id="'+e.id+'" onclick="check(id,checked)">\n                    <p class="content" id="input'+e.id+'" ondblclick=edit(id)>'+e.data+'</p>\n                    <button class="closeBtn"  id="close'+e.id+'" onclick=remove(id)>×</button>\n                </li>':(o='<li>\n                    <input type="checkbox" name="checkBtn" class="checkBtn" id="'+e.id+'" onclick="check(id,checked)" >\n                    <p class="content" id="input'+e.id+'" ondblclick=edit(id)>'+e.data+'</p>\n                    <button class="closeBtn"  id="close'+e.id+'" onclick=remove(id)>×</button>\n                </li>'+o,i++)})),e.innerHTML=o,t.innerHTML=d,n.innerHTML=i.toString()+" items left"):(e.innerHTML="",t.innerHTML="",n.innerHTML="0 items left")}function update(e){saveData(e),render()}function uniqueId(){return(Number(Math.random().toString().substring(2))*(new Date).getTime()).toString(36).slice(0,-8)}function addTodo(){work={id:"",data:"",done:!1},newTodo.value=newTodo.value.trim(),""===newTodo.value?(alert("内容不能为空"),newTodo.value="",newTodo.focus()):(work.id=uniqueId(),work.data=newTodo.value,todoList.push(work),saveData(todoList),render(),newTodo.value="",newTodo.focus())}function seekIndex(e){todoList.forEach((t=>{t.id===e&&(workIndex=todoList.indexOf(t))}))}function check(e,t){const n=document.getElementById(e).nextElementSibling.textContent;work={id:e,data:n,done:t},seekIndex(work.id),todoList.splice(workIndex,1,work),update(todoList)}function remove(e){seekIndex(e.substring(5)),todoList.splice(workIndex,1),update(todoList)}function edit(e){seekIndex(e.substring(5));const t=window.prompt("重新编辑内容",todoList[workIndex].data).trim();""===t?alert("内容不能为空"):(todoList[workIndex].data=t,saveData(todoList),render())}function clearAll(){localStorage.clear(),render()}function clearDone(){todoList=todoList.filter((e=>!1===e.done)),update(todoList)}function fnDate(){let e=document.getElementById("time1"),t=document.getElementById("time2"),n=new Date,o=n.getFullYear(),d=n.getMonth(),i=n.getDate(),c=n.getHours(),r=n.getMinutes(),a=n.getSeconds(),s=fnW(c)+":"+fnW(r),l=o+"-"+fnW(d+1)+"-"+fnW(i)+" "+fnW(c)+":"+fnW(r)+":"+fnW(a);e.innerHTML=s,t.innerHTML=l}function fnW(e){let t;return t=e>=10?e:"0"+e,t}window.onload=function(){render(),setInterval((function(){fnDate()}),1e3)},document.addEventListener("keypress",(function(e){"newTodo"===document.activeElement.id&&"Enter"===e.key&&addTodo()}));
//# sourceMappingURL=index.96dae1be.js.map
